FROM ubuntu
RUN apt-get update && apt-get install -y openjdk-21-jre-headless curl jq screen
EXPOSE 25565
USER 1000:1000
VOLUME /data/server
WORKDIR /data
COPY --chown=1000:1000 --chmod=750 run.sh .
COPY --chown=1000:1000 --chmod=750 update.sh .
COPY --chown=1000:1000 --chmod=750 stats.sh .

# Set the java -Xms and -Xmx parameters
ENV MEMORY=4G

# Set following to TRUE from run command indicating your agreement to the EULA (https://account.mojang.com/documents/minecraft_eula).
ENV EULA=

# server.properties settings
ENV SEED=

# Webstore URL - See: https://github.com/JMDirksen/WebStore
ENV WEBSTORE=

CMD ["/bin/bash", "run.sh"]
